sources:
  - name: model
    tables:
      - name: assessment_card
        tags:
          - load_auto

      - name: assessment_pin
        tags:
          - load_auto

      - name: feature_importance
        tags:
          - load_auto

      - name: final_model
        tags:
          - load_manual

      - name: metadata
        tags:
          - load_auto

      - name: parameter_final
        tags:
          - load_auto

      - name: parameter_range
        tags:
          - load_auto

      - name: parameter_search
        tags:
          - load_auto

      - name: performance
        tags:
          - load_auto

      - name: performance_quantile
        tags:
          - load_auto

      - name: shap
        tags:
          - load_auto

      - name: test_card
        tags:
          - load_auto

      - name: timing
        tags:
          - load_auto


models:
  - name: model.vw_card_res_input
    config:
      tags:
        - type_res

    columns:
      - name: char_bldg_sf_95_percentile
        description: |
          95th percentile of building square footage,
          by year and township
      - name: char_land_sf_95_percentile
        description: |
          95th percentile of land square footage,
          by year and township
      - name: ind_bldg_gte_95_percentile
        description: |
          Indicator for a PIN with building square footage larger
          than 95% of other properties for this year and township
      - name: ind_land_bldg_ratio_gte_10
        description: |
          Indicator for a PIN with a ratio of (land sqft / bldg sqft)
          of greater than or equal to 10.

          This is intended to identify small houses on very large lots
      - name: ind_land_gte_95_percentile
        description: |
          Indicator for a PIN with land square footage larger
          than 95% of other properties for this year and township
      - name: other_ihs_avg_year_index
        description: '{{ doc("shared_column_ihs_avg_year_index") }}'
      - name: other_school_district_elementary_avg_rating
        description: '{{ doc("shared_column_school_district_elementary_avg_rating") }}'
      - name: other_school_district_secondary_avg_rating
        description: '{{ doc("shared_column_school_district_secondary_avg_rating") }}'
      - name: other_tax_bill_rate
        description: '{{ doc("shared_column_tax_bill_rate") }}'

  - name: model.vw_pin_shared_input
    columns:
      - &acs5_count_sex_total
        name: acs5_count_sex_total
        description: '{{ doc("column_count_sex_total") }}'
      - &acs5_median_age_total
        name: acs5_median_age_total
        description: '{{ doc("column_median_age_total") }}'
      - &acs5_median_household_owner_occupied_value
        name: acs5_median_household_owner_occupied_value
        description: '{{ doc("column_median_household_owner_occupied_value") }}'
      - &acs5_median_household_renter_occupied_gross_rent
        name: acs5_median_household_renter_occupied_gross_rent
        description: '{{ doc("column_median_household_renter_occupied_gross_rent") }}'
      - &acs5_median_household_total_occupied_year_built
        name: acs5_median_household_total_occupied_year_built
        description: '{{ doc("column_median_household_total_occupied_year_built") }}'
      - &acs5_median_income_household_past_year
        name: acs5_median_income_household_past_year
        description: '{{ doc("column_median_income_household_past_year") }}'
      - &acs5_median_income_per_capita_past_year
        name: acs5_median_income_per_capita_past_year
        description: '{{ doc("column_median_income_per_capita_past_year") }}'
      - &acs5_percent_age_children
        name: acs5_percent_age_children
        description: '{{ doc("column_percent_age_children") }}'
      - &acs5_percent_age_senior
        name: acs5_percent_age_senior
        description: '{{ doc("column_percent_age_senior") }}'
      - &acs5_percent_education_bachelor
        name: acs5_percent_education_bachelor
        description: '{{ doc("column_percent_education_bachelor") }}'
      - &acs5_percent_education_graduate
        name: acs5_percent_education_graduate
        description: '{{ doc("column_percent_education_graduate") }}'
      - &acs5_percent_education_high_school
        name: acs5_percent_education_high_school
        description: '{{ doc("column_percent_education_high_school") }}'
      - &acs5_percent_employment_unemployed
        name: acs5_percent_employment_unemployed
        description: '{{ doc("column_percent_employment_unemployed") }}'
      - &acs5_percent_household_family_married
        name: acs5_percent_household_family_married
        description: '{{ doc("column_percent_household_family_married") }}'
      - &acs5_percent_household_nonfamily_alone
        name: acs5_percent_household_nonfamily_alone
        description: '{{ doc("column_percent_household_nonfamily_alone") }}'
      - &acs5_percent_household_owner_occupied
        name: acs5_percent_household_owner_occupied
        description: '{{ doc("column_percent_household_owner_occupied") }}'
      - &acs5_percent_household_total_occupied_w_sel_cond
        name: acs5_percent_household_total_occupied_w_sel_cond
        description: '{{ doc("column_percent_household_total_occupied_w_sel_cond") }}'
      - &acs5_percent_income_below_poverty_level
        name: acs5_percent_income_below_poverty_level
        description: '{{ doc("column_percent_income_below_poverty_level") }}'
      - &acs5_percent_income_household_received_snap_past_year
        name: acs5_percent_income_household_received_snap_past_year
        description: '{{ doc("column_percent_income_household_received_snap_past_year") }}'
      - &acs5_percent_mobility_moved_from_other_state
        name: acs5_percent_mobility_moved_from_other_state
        description: '{{ doc("column_percent_mobility_moved_from_other_state") }}'
      - &acs5_percent_mobility_moved_in_county
        name: acs5_percent_mobility_moved_in_county
        description: '{{ doc("column_percent_mobility_moved_in_county") }}'
      - &acs5_percent_mobility_no_move
        name: acs5_percent_mobility_no_move
        description: '{{ doc("column_percent_mobility_no_move") }}'
      - &avg_school_rating_in_half_mile
        name: avg_school_rating_in_half_mile
        description: '{{ doc("column_avg_school_rating_in_half_mile") }}'
      - &num_bus_stop_in_half_mile
        name: num_bus_stop_in_half_mile
        description: '{{ doc("column_num_bus_stop_in_half_mile") }}'
      - &num_foreclosure_per_1000_pin_past_5_years
        name: num_foreclosure_per_1000_pin_past_5_years
        description: '{{ doc("column_num_foreclosure_per_1000_pin_past_5_years") }}'
      - &num_school_with_rating_in_half_mile
        name: prox_num_school_with_rating_in_half_mile
        description: '{{ doc("column_num_school_with_rating_in_half_mile") }}'
      - &loc_access_cmap_walk_nta_score
        name: loc_access_cmap_walk_nta_score
        description: '{{ doc("column_access_cmap_walk_nta_score") }}'
      - &loc_access_cmap_walk_total_score
        name: loc_access_cmap_walk_total_score
        description: '{{ doc("column_access_cmap_walk_total_score") }}'
      - &loc_census_acs5_data_year
        name: loc_census_acs5_data_year
        description: '{{ doc("shared_column_data_year") }}'
      - &loc_census_acs5_puma_geoid
        name: loc_census_acs5_puma_geoid
        description: '{{ doc("column_census_puma_geoid") }}'
      - &loc_census_acs5_tract_geoid
        name: loc_census_acs5_tract_geoid
        description: '{{ doc("column_census_tract_geoid") }}'
      - &loc_census_data_year
        name: loc_census_data_year
        description: '{{ doc("shared_column_data_year") }}'
      - &loc_census_puma_geoid
        name: loc_census_puma_geoid
        description: '{{ doc("column_census_puma_geoid") }}'
      - &loc_census_tract_geoid
        name: loc_census_tract_geoid
        description: '{{ doc("column_census_tract_geoid") }}'
      - &loc_chicago_community_area_name
        name: loc_chicago_community_area_name
        description: '{{ doc("column_chicago_community_area_name") }}'
      - &loc_env_airport_noise_dnl
        name: loc_env_airport_noise_dnl
        description: '{{ doc("column_env_airport_noise_dnl") }}'
      - &loc_env_flood_fema_sfha
        name: loc_env_flood_fema_sfha
        description: '{{ doc("column_env_flood_fema_sfha") }}'
      - &loc_env_flood_fs_factor
        name: loc_env_flood_fs_factor
        description: '{{ doc("column_env_flood_fs_factor") }}'
      - &loc_env_flood_fs_risk_direction
        name: loc_env_flood_fs_risk_direction
        description: '{{ doc("column_env_flood_fs_risk_direction") }}'
      - &loc_env_ohare_noise_contour_no_buffer_bool
        name: loc_env_ohare_noise_contour_no_buffer_bool
        description: '{{ doc("column_env_ohare_noise_contour_no_buffer_bool") }}'
      - &loc_latitude
        name: loc_latitude
        description: '{{ doc("shared_column_latitude") }}'
      - &loc_longitude
        name: loc_longitude
        description: '{{ doc("shared_column_longitude") }}'
      - &loc_misc_subdivision_id
        name: loc_misc_subdivision_id
        description: '{{ doc("column_misc_subdivision_id") }}'
      - &loc_property_address
        name: loc_property_address
        description: '{{ doc("shared_column_prop_address_full") }}'
      - &loc_property_city
        name: loc_property_city
        description: '{{ doc("shared_column_prop_address_city_name") }}'
      - &loc_property_state
        name: loc_property_state
        description: '{{ doc("shared_column_prop_address_state") }}'
      - &loc_property_zip
        name: loc_property_zip
        description: '{{ doc("shared_column_prop_address_zipcode_1") }}'
      - &loc_school_elementary_district_geoid
        name: loc_school_elementary_district_geoid
        description: '{{ doc("column_school_elementary_district_geoid") }}'
      - &loc_school_secondary_district_geoid
        name: loc_school_secondary_district_geoid
        description: '{{ doc("column_school_secondary_district_geoid") }}'
      - &loc_school_unified_district_geoid
        name: loc_school_unified_district_geoid
        description: '{{ doc("column_school_unified_district_geoid") }}'
      - &loc_tax_municipality_name
        name: loc_tax_municipality_name
        description: '{{ doc("column_tax_district_name") }}'
      - &loc_tax_special_service_area_num
        name: loc_tax_special_service_area_num
        description: '{{ doc("column_tax_district_num") }}'
      - &loc_tax_tif_district_num
        name: loc_tax_tif_district_num
        description: '{{ doc("column_tax_district_num") }}'
      - &loc_ward_num
        name: loc_ward_num
        description: '{{ doc("column_ward_num") }}'
      - &loc_x_3435
        name: loc_x_3435
        description: '{{ doc("shared_column_x_3435") }}'
      - &loc_y_3435
        name: loc_y_3435
        description: '{{ doc("shared_column_y_3435") }}'
      - &meta_1yr_pri_board_bldg
        name: meta_1yr_pri_board_bldg
        description: '{{ doc("shared_column_board_bldg") }}'
      - &meta_1yr_pri_board_land
        name: meta_1yr_pri_board_land
        description: '{{ doc("shared_column_board_land") }}'
      - &meta_1yr_pri_board_tot
        name: meta_1yr_pri_board_tot
        description: '{{ doc("shared_column_board_tot") }}'
      - &meta_2yr_pri_board_bldg
        name: meta_2yr_pri_board_bldg
        description: '{{ doc("shared_column_board_bldg") }}'
      - &meta_2yr_pri_board_land
        name: meta_2yr_pri_board_land
        description: '{{ doc("shared_column_board_land") }}'
      - &meta_2yr_pri_board_tot
        name: meta_2yr_pri_board_tot
        description: '{{ doc("shared_column_board_tot") }}'
      - &meta_board_bldg
        name: meta_board_bldg
        description: '{{ doc("shared_column_board_bldg") }}'
      - &meta_board_land
        name: meta_board_land
        description: '{{ doc("shared_column_board_land") }}'
      - &meta_board_tot
        name: meta_board_tot
        description: '{{ doc("shared_column_board_tot") }}'
      - &meta_certified_bldg
        name: meta_certified_bldg
        description: '{{ doc("shared_column_certified_bldg") }}'
      - &meta_certified_land
        name: meta_certified_land
        description: '{{ doc("shared_column_certified_land") }}'
      - &meta_certified_tot
        name: meta_certified_tot
        description: '{{ doc("shared_column_certified_tot") }}'
      - &meta_class
        name: meta_class
        description: '{{ doc("shared_column_class") }}'
      - &meta_mailed_bldg
        name: meta_mailed_bldg
        description: '{{ doc("shared_column_mailed_bldg") }}'
      - &meta_mailed_land
        name: meta_mailed_land
        description: '{{ doc("shared_column_mailed_land") }}'
      - &meta_mailed_tot
        name: meta_mailed_tot
        description: '{{ doc("shared_column_mailed_tot") }}'
      - &meta_nbhd_code
        name: meta_nbhd_code
        description: '{{ doc("shared_column_nbhd_code") }}'
      - &meta_pin
        name: meta_pin
        description: '{{ doc("shared_column_pin") }}'
      - &meta_pin10
        name: meta_pin10
        description: '{{ doc("shared_column_pin10") }}'
      - &meta_tax_code
        name: meta_tax_code
        description: '{{ doc("shared_column_tax_code") }}'
      - &meta_township_code
        name: meta_township_code
        description: '{{ doc("shared_column_township_code") }}'
      - &meta_township_name
        name: meta_township_name
        description: '{{ doc("shared_column_township_name") }}'
      - &meta_triad_code
        name: meta_triad_code
        description: '{{ doc("shared_column_triad_code") }}'
      - &meta_triad_name
        name: meta_triad_name
        description: '{{ doc("shared_column_triad_name") }}'
      - &meta_year
        name: meta_year
        description: '{{ doc("shared_column_year") }}'
      - &nearest_neighbor_1_dist_ft
        name: nearest_neighbor_1_dist_ft
        description: '{{ doc("column_nearest_neighbor_dist_ft") }}'
      - &nearest_neighbor_1_pin10
        name: nearest_neighbor_1_pin10
        description: '{{ doc("column_nearest_neighbor_pin10") }}'
      - &nearest_neighbor_2_dist_ft
        name: nearest_neighbor_2_dist_ft
        description: '{{ doc("column_nearest_neighbor_dist_ft") }}'
      - &nearest_neighbor_2_pin10
        name: nearest_neighbor_2_pin10
        description: '{{ doc("column_nearest_neighbor_pin10") }}'
      - &nearest_neighbor_3_dist_ft
        name: nearest_neighbor_3_dist_ft
        description: '{{ doc("column_nearest_neighbor_dist_ft") }}'
      - &nearest_neighbor_3_pin10
        name: nearest_neighbor_3_pin10
        description: '{{ doc("column_nearest_neighbor_pin10") }}'
      - &other_ihs_avg_year_index
        name: other_ihs_avg_year_index
        description: '{{ doc("shared_column_ihs_avg_year_index") }}'
      - &other_school_district_elementary_avg_rating
        name: other_school_district_elementary_avg_rating
        description: '{{ doc("shared_column_school_district_elementary_avg_rating") }}'
      - &other_school_district_secondary_avg_rating
        name: other_school_district_secondary_avg_rating
        description: '{{ doc("shared_column_school_district_secondary_avg_rating") }}'
      - &other_tax_bill_amount_total
        name: other_tax_bill_amount_total
        description: '{{ doc("shared_column_tax_bill_amount_total") }}'
      - &other_tax_bill_rate
        name: other_tax_bill_rate
        description: '{{ doc("shared_column_tax_bill_rate") }}'
      - &prox_lake_michigan_dist_ft
        name: prox_lake_michigan_dist_ft
        description: '{{ doc("column_lake_michigan_dist_ft") }}'
      - &prox_nearest_bike_trail_dist_ft
        name: prox_nearest_bike_trail_dist_ft
        description: '{{ doc("column_nearest_bike_trail_dist_ft") }}'
      - &prox_nearest_cemetery_dist_ft
        name: prox_nearest_cemetery_dist_ft
        description: '{{ doc("column_nearest_cemetery_dist_ft") }}'
      - &prox_nearest_cta_route_dist_ft
        name: prox_nearest_cta_route_dist_ft
        description: '{{ doc("column_nearest_cta_route_dist_ft") }}'
      - &prox_nearest_cta_stop_dist_ft
        name: prox_nearest_cta_stop_dist_ft
        description: '{{ doc("column_nearest_cta_stop_dist_ft") }}'
      - &prox_nearest_golf_course_dist_ft
        name: prox_nearest_golf_course_dist_ft
        description: '{{ doc("column_nearest_golf_course_dist_ft") }}'
      - &prox_nearest_hospital_dist_ft
        name: prox_nearest_hospital_dist_ft
        description: '{{ doc("column_nearest_hospital_dist_ft") }}'
      - &prox_nearest_major_road_dist_ft
        name: prox_nearest_major_road_dist_ft
        description: '{{ doc("column_nearest_major_road_dist_ft") }}'
      - &prox_nearest_metra_route_dist_ft
        name: prox_nearest_metra_route_dist_ft
        description: '{{ doc("column_nearest_metra_route_dist_ft") }}'
      - &prox_nearest_metra_stop_dist_ft
        name: prox_nearest_metra_stop_dist_ft
        description: '{{ doc("column_nearest_metra_stop_dist_ft") }}'
      - &prox_nearest_park_dist_ft
        name: prox_nearest_park_dist_ft
        description: '{{ doc("column_nearest_park_dist_ft") }}'
      - &prox_nearest_railroad_dist_ft
        name: prox_nearest_railroad_dist_ft
        description: '{{ doc("column_nearest_railroad_dist_ft") }}'
      - &prox_nearest_water_dist_ft
        name: prox_nearest_water_dist_ft
        description: '{{ doc("column_nearest_water_dist_ft") }}'
      - &prox_num_pin_in_half_mile
        name: prox_num_pin_in_half_mile
        description: '{{ doc("column_num_pin_in_half_mile") }}'
      - &prox_num_school_in_half_mile
        name: prox_num_school_in_half_mile
        description: '{{ doc("column_num_school_in_half_mile") }}'

  - name: model.vw_pin_condo_input
    config:
      tags:
        - type_condo

    columns:
      - *acs5_count_sex_total
      - *acs5_median_age_total
      - *acs5_median_household_owner_occupied_value
      - *acs5_median_household_renter_occupied_gross_rent
      - *acs5_median_household_total_occupied_year_built
      - *acs5_median_income_household_past_year
      - *acs5_median_income_per_capita_past_year
      - *acs5_percent_age_children
      - *acs5_percent_age_senior
      - *acs5_percent_education_bachelor
      - *acs5_percent_education_graduate
      - *acs5_percent_education_high_school
      - *acs5_percent_employment_unemployed
      - *acs5_percent_household_family_married
      - *acs5_percent_household_nonfamily_alone
      - *acs5_percent_household_owner_occupied
      - *acs5_percent_household_total_occupied_w_sel_cond
      - *acs5_percent_income_below_poverty_level
      - *acs5_percent_income_household_received_snap_past_year
      - *acs5_percent_mobility_moved_from_other_state
      - *acs5_percent_mobility_moved_in_county
      - *acs5_percent_mobility_no_move
      - *avg_school_rating_in_half_mile
      - *num_bus_stop_in_half_mile
      - *num_foreclosure_per_1000_pin_past_5_years
      - *num_school_with_rating_in_half_mile
      - *loc_access_cmap_walk_nta_score
      - *loc_access_cmap_walk_total_score
      - *loc_census_acs5_data_year
      - *loc_census_acs5_puma_geoid
      - *loc_census_acs5_tract_geoid
      - *loc_census_data_year
      - *loc_census_puma_geoid
      - *loc_census_tract_geoid
      - *loc_chicago_community_area_name
      - *loc_env_airport_noise_dnl
      - *loc_env_flood_fema_sfha
      - *loc_env_flood_fs_factor
      - *loc_env_flood_fs_risk_direction
      - *loc_env_ohare_noise_contour_no_buffer_bool
      - *loc_latitude
      - *loc_longitude
      - *loc_misc_subdivision_id
      - *loc_property_address
      - *loc_property_city
      - *loc_property_state
      - *loc_property_zip
      - *loc_school_elementary_district_geoid
      - *loc_school_secondary_district_geoid
      - *loc_school_unified_district_geoid
      - *loc_tax_municipality_name
      - *loc_tax_special_service_area_num
      - *loc_tax_tif_district_num
      - *loc_ward_num
      - *loc_x_3435
      - *loc_y_3435
      - *meta_1yr_pri_board_bldg
      - *meta_1yr_pri_board_land
      - *meta_1yr_pri_board_tot
      - *meta_2yr_pri_board_bldg
      - *meta_2yr_pri_board_land
      - *meta_2yr_pri_board_tot
      - *meta_board_bldg
      - *meta_board_land
      - *meta_board_tot
      - *meta_certified_bldg
      - *meta_certified_land
      - *meta_certified_tot
      - *meta_class
      - *meta_mailed_bldg
      - *meta_mailed_land
      - *meta_mailed_tot
      - *meta_nbhd_code
      - *meta_pin
      - *meta_pin10
      - *meta_tax_code
      - *meta_township_code
      - *meta_township_name
      - *meta_triad_code
      - *meta_triad_name
      - *meta_year
      - *nearest_neighbor_1_dist_ft
      - *nearest_neighbor_1_pin10
      - *nearest_neighbor_2_dist_ft
      - *nearest_neighbor_2_pin10
      - *nearest_neighbor_3_dist_ft
      - *nearest_neighbor_3_pin10
      - *other_ihs_avg_year_index
      - *other_school_district_elementary_avg_rating
      - *other_school_district_secondary_avg_rating
      - *other_tax_bill_amount_total
      - *other_tax_bill_rate
      - *prox_lake_michigan_dist_ft
      - *prox_nearest_bike_trail_dist_ft
      - *prox_nearest_cemetery_dist_ft
      - *prox_nearest_cta_route_dist_ft
      - *prox_nearest_cta_stop_dist_ft
      - *prox_nearest_golf_course_dist_ft
      - *prox_nearest_hospital_dist_ft
      - *prox_nearest_major_road_dist_ft
      - *prox_nearest_metra_route_dist_ft
      - *prox_nearest_metra_stop_dist_ft
      - *prox_nearest_park_dist_ft
      - *prox_nearest_railroad_dist_ft
      - *prox_nearest_water_dist_ft
      - *prox_num_pin_in_half_mile
      - *prox_num_school_in_half_mile
