models:
  - name: default.vw_card_res_char
    description: '{{ doc("vw_card_res_char") }}'
    config:
      tags:
        - type_res

    columns:
      - name: card_proration_rate
        description: |
          Proration rate within a given PIN.

          Some PINs have multiple improvements, known as "cards". Total value for a PIN should be allocated across cards accordingly.
      - name: pin_is_multiland
        description: Indicates the PIN has more than one landline
      - name: pin_is_multicard
        description: Indicator for a PIN with more than one building (ADU, coach house, etc.)
      - name: char_tp_dsgn
        description: |
          Deprecated.

          Field has not been updated recently enough to be useful for modeling
      - name: char_site
        description: |
          Deprecated.

          This field lacks sufficient variation to be useful for modeling
      - name: char_rooms
        description: Number of total rooms in the building (excluding baths). Not to be confused with bedrooms
      - name: char_repair_cnd
        description: |
          Deprecated.

          This field is subjective and contains little variation. As such, it is not used for modeling
      - name: char_recent_renovation
        description: |
          Indicates whether or not a property was renovated within the last 3 years.

          Renovation is indicated by the char_renovation characteristic flipping from "NO" to "YES"
      - name: char_ncu
        description: |
          Number of commercial units.

          The vast majority are for properties with class 212
      - name: char_land_sf
        description: |
          Square footage of the land (not just the building) of the property.

          A single PIN can have multiple "land lines," meaning it can be associated with more than one 200-class land lot
      - name: char_hbath
        description: Number of half baths, defined as bathrooms without a shower or bathtub
      - name: char_gar1_area
        descripion: |
          Summary forthcoming.

          Is Garage 1 physically included within the building area? If yes, the garage area is subtracted from the building square feet calculation by the field agent
      - name: char_frpl
        description: Number of fireplaces, counted as the number of flues one can see from the outside of the building
      - name: char_fbath
        description: |
          Number of full bathrooms, defined as having a bath or shower.

          If this value is missing, the default value is set to 1
      - name: char_cnst_qlty
        descripion: |
          Summary forthcoming.

          In general, this field is not used consistently and is therefore not useful for analytical purposes
      - name: char_bldg_sf
        description: Square footage of the building, as measured from the exterior
      - name: char_beds
        description: Number of bedrooms in the building
      - name: char_apts
        description: |
          Number of apartments for class 211 and 212 properties.

          CAUTION: Note the numerically encoded values DO NOT correspond to the number of apartments i.e. code 1 means 2 apartments, code 6 means 0 apartments
      - name: char_age
        description: |
          Deprecated.

          Use year built instead
      - name: cdu
        description: Dozens of codes attached to a face sheet that denote a number of seemingly unrelated characteristics associated with a PIN, ranging from condition to types of subsidies
      - name: card
        description: |
          Represents the building ID if multiple buildings or spaces exist on the same PIN

          Equivalent to legacy MLT_CD (multicode)

    tests:
      - unique_combination_of_columns:
          name: vw_card_res_char_unique_by_pin_card_and_year
          combination_of_columns:
            - pin
            - year
            - card
