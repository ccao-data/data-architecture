sources:
  - name: iasworld
    loaded_at_field: date_parse(wen, '%Y-%m-%d %H:%i:%s.0')
    tags:
      - load_auto
    tables:
      - name: legdat
        description: '{{ doc("legdat") }}'

        columns:
          - name: acres
            description: '{{ doc("column_acres") }}'
          - name: actdep
            description: Actual lot depth
          - name: actfrt
            description: Actual front footage
          - name: adradd
            description: '{{ doc("column_adradd") }}'
          - name: adrdir
            description: '{{ doc("column_adrdir") }}'
          - name: adrid
            description: '{{ doc("column_adrid") }}'
          - name: adrno
            description: '{{ doc("column_adrno") }}'
          - name: adrparchild
            description: '{{ doc("column_adrparchild") }}'
          - name: adrpostmod
            description: '{{ doc("column_adrpostmod") }}'
          - name: adrpre
            description: '{{ doc("column_adrpre") }}'
          - name: adrpremod
            description: '{{ doc("column_adrpremod") }}'
          - name: adrpretype
            description: '{{ doc("column_adrpretype") }}'
          - name: adrstatus
            description: '{{ doc("column_adrstatus") }}'
          - name: adrstr
            description: '{{ doc("column_adrstr") }}'
          - name: adrsuf
            description: '{{ doc("column_adrsuf") }}'
          - name: adrsuf2
            description: '{{ doc("column_adrsuf2") }}'
          - name: block
            description: Block prefix and suffix, formatted
          - name: cityname
            description: '{{ doc("column_cityname") }}'
          - name: compct
            description: Common interest
          - name: condbdg
            description: Condominium building number
          - name: condunt
            description: Condominium unit number
          - name: conveyno
            description: '{{ doc("column_conveyno") }}'
          - name: cur
            description: '{{ doc("column_cur") }}'
          - name: deactivat
            description: '{{ doc("column_deactivat") }}'
          - name: floorno
            description: '{{ doc("column_floorno") }}'
          - name: iasw_id
            description: '{{ doc("column_iasw_id") }}'
          - name: jur
            description: '{{ doc("column_jur") }}'
          - name: legal1
            description: Legal description line 1
          - name: legal2
            description: Legal description line 2
          - name: legal3
            description: Legal description line 3
          - name: legdesc
            description: Unlimited legal description
          - name: loc2
            description: '{{ doc("column_loc2") }}'
          - name: lot
            description: Lot prefix and suffix, formatted
          - name: lotdim
            description: Lot dimensions
          - name: numlot
            description: Number of lots
          - name: parid
            description: '{{ doc("column_parid") }}'
          - name: postalcode
            description: '{{ doc("column_postalcode") }}'
          - name: procdate
            description: '{{ doc("column_procdate") }}'
          - name: procname
            description: '{{ doc("column_procname") }}'
          - name: qualifier
            description: Qualifier codes, left justified
          - name: respct
            description: Residential percentage
          - name: roll_section
            description: Roll section
          - name: schdist
            description: School district code
          - name: schdist2
            description: Consolidated School district code
          - name: school_code
            description: School code
          - name: schvalpct
            description: School district value percentage
          - name: schvalpct2
            description: Consolidated school district value percentage
          - name: seq
            description: '{{ doc("column_seq") }}'
          - name: sortkey
            description: Block, lot and qualifier, reformatted for sorting
          - name: splitno
            description: '{{ doc("column_splitno") }}'
          - name: sqft
            description: Deeded square foot acrage
          - name: star_credit
            description: Star credit flag
          - name: statecode
            description: '{{ doc("column_statecode") }}'
          - name: status
            description: '{{ doc("column_status") }}'
          - name: strcd
            description: '{{ doc("column_strcd") }}'
          - name: strreloc
            description: '{{ doc("column_strreloc") }}'
          - name: subblck
            description: Subdivision block number
          - name: subcode
            description: Subdivision code
          - name: subdiv
            description: Subdivision name
          - name: subdnum
            description: Subdivision number
          - name: sublot
            description: Subdivision lot number
          - name: swis_code
            description: Swis code
          - name: taxdist
            description: Tax district
          - name: taxdist2
            description: Tax district 2
          - name: taxdist3
            description: Tax district 3
          - name: taxdist4
            description: Tax district 4
          - name: taxdist5
            description: Tax district 5
          - name: taxdist6
            description: Tax district 6
          - name: taxyr
            description: '{{ doc("column_taxyr") }}'
          - name: trans_id
            description: '{{ doc("column_trans_id") }}'
          - name: unitdesc
            description: '{{ doc("column_unitdesc") }}'
          - name: unitno
            description: '{{ doc("column_unitno") }}'
          - name: upd_status
            description: '{{ doc("column_upd_status") }}'
          - name: wen
            description: '{{ doc("column_wen") }}'
          - name: wencalc
            description: '{{ doc("column_wencalc") }}'
          - name: who
            description: '{{ doc("column_who") }}'
          - name: whocalc
            description: '{{ doc("column_whocalc") }}'
          - name: xcoord
            description: '{{ doc("column_xcoord") }}'
          - name: ycoord
            description: '{{ doc("column_ycoord") }}'
          - name: zcoord
            description: Z coordinate
          - name: zip1
            description: '{{ doc("column_zip1") }}'
          - name: zip2
            description: '{{ doc("column_zip2") }}'

        tests:
          - unique_combination_of_columns:
              name: legdat_unique_by_parid_taxyr
              combination_of_columns:
                - parid
                - taxyr
